(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{218:function(t,n,s){"use strict";s.r(n);var a=s(0),e=Object(a.a)({},(function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),s("img",{attrs:{src:t.$withBase("/images/introduction/proj-structure.png"),width:"300px",alt:"proj structure"}}),t._v(" "),t._m(3),t._v(" "),s("img",{attrs:{src:t.$withBase("/images/introduction/proj-dependency.png"),alt:"proj denpendency"}}),t._v(" "),s("p",[t._v("如上图所示：")]),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("注意事项")]),t._v(" "),s("ul",[s("li",[t._v("引导程序Boot-x.exe必须放到根目录。引导程序可采用Boot.exe, 源码及下载见"),s("a",{attrs:{href:""}},[t._v("博客园:C#通过System.Diagnostics.Process扩展实现引导程序")]),t._v("; 也可采用Boot-cpp.exe, 源码及使用方法详见"),s("a",{attrs:{href:"https://www.gitee.com/Liggin2019/Ligg.SeqExec",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee:Liggin2019/Ligg.SeqExec"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("li",[t._v("Boot-x.ini可以放到根目录, 也可以统一放到根目录下的\\ini下, 这样根目录比较整洁。")]),t._v(" "),s("li",[t._v("Conf下各文件夹名称和位置不能改变。")]),t._v(" "),s("li",[t._v("Data、Lib、Cblps的文件夹可以在配置文件ApplicationSetting.*里设置, 如采用相对路径则在缺省位置。")]),t._v(" "),s("li",[t._v("OeStdServiceComponents文件夹在配置文件OeStdServiceComponents.*里设置, 如采用相对路径则在缺省位置。")]),t._v(" "),s("li",[t._v("启动程序WinformApp.exe、ConsoleApp.exe必须放到根目录的第3层子目录下如: \\Program\\Main\\netcoreapp3.1, 系统SetCurrentDirectory的方式如下:")])]),t._v(" "),t._m(19)]),t._v(" "),t._m(20),t._v(" "),s("ul",[t._m(21),t._v(" "),s("li",[t._v("Cblp、OeStdServiceComponent项目的标准服务都必须继承Ligg.Interface的接口OeStdService, Cblp的Service不用继承。")]),t._v(" "),s("li",[t._v("Cblp和OeStdServiceComponent项目的目标框架可以是.net Framework、.net Standand或.net Core。")]),t._v(" "),s("li",[t._v("开发时的目录结构和启动项目Ligg.WinformApp和Ligg.ConsoleApp的Output Path 设置如下, 比较方便:\n"),s("img",{attrs:{src:t.$withBase("/images/introduction/proj-debug.png"),alt:"proj debug"}})]),t._v(" "),s("li",[t._v("在启动文件WinformApp.exe、ConsoleApp.exe并列, 有一个debug.ini文件, 可以方便调试不同的UI配置和初始化参数, 这样不用频繁更改Visual Studio的 Command line arguments。 在发行阶段要把此文件删除或者设置debug=false。这个参数会传递给程序, 决定程序的某些功能, 如读取配置文件的格式的顺序。内容如下:")])]),t._v(" "),t._m(22),t._m(23),t._v(" "),t._m(24),t._v(" "),s("p",[t._v("可以从下面几个方面进行集成开发")]),t._v(" "),t._m(25)])}),[function(){var t=this.$createElement,n=this._self._c||t;return n("h1",{attrs:{id:"总体介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#总体介绍"}},[this._v("#")]),this._v(" 总体介绍")])},function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"tip custom-block"},[n("p",{staticClass:"custom-block-title"},[this._v("提示")]),this._v(" "),n("p",[this._v("本节内容快速浏览即可，通过教程的练习后，再回来加深理解。")])])},function(){var t=this.$createElement,n=this._self._c||t;return n("h2",{attrs:{id:"项目结构"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#项目结构"}},[this._v("#")]),this._v(" 项目结构")])},function(){var t=this.$createElement,n=this._self._c||t;return n("h2",{attrs:{id:"项目依赖"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#项目依赖"}},[this._v("#")]),this._v(" 项目依赖")])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("ul",[s("li",[t._v("Ligg.WinformApp和Ligg.ConsoleApp是Winform和控制台应用的启动项目; 对应不同的启动参数，进入不同的应用和UI。一个应用可以同时具有多个Winform和Console的界面。")]),t._v(" "),s("li",[t._v("Ligg.Winform, Ligg.Console项目主要作用是对UI的管理。")]),t._v(" "),s("li",[t._v("Ligg.Parser为Ligg.Winform, Ligg.Console共用。框架内置基础功能(如字符、文件处理, 逻辑、数值运算, 数据输入输出、数据格式转换、加密解密、表单字段验证、Windows脚本执行、Python脚本执行等...), 通过Ligg.Parser项目以Get(), Do(), Get常量表达式GetConstant(), Validate()调用Ligg.Infra项目实现。")]),t._v(" "),s("li",[t._v("Cblp项目(核心业务逻辑处理)实现Get(), Do(), Get常量表达式GetConstant(), Validate()的功能扩展。一个应用对应一个的Cblp项目。")]),t._v(" "),s("li",[t._v("OeStdServiceComponent项目(外嵌标准服务组件)通常是通用共享的组件。实现Get(), Do()的功能扩展; 为多个应用共用。")]),t._v(" "),s("li",[t._v("启动项目和Cblp项目以及外嵌标准服务项目项目都需要引用Ligg.Interface项目。启动项目和Cblp项目之间， 启动项目和OeStdServiceComponent项目之间没有依赖关系，通过Ioc来调用。")]),t._v(" "),s("li",[t._v("Cblp和OeStdServiceComponent项目的目标框架可以是.net Framework、.net Standand或.net Core。\n详见"),s("a",{attrs:{href:"#%E9%9B%86%E6%88%90%E5%BC%80%E5%8F%91"}},[t._v("集成开发")]),t._v("部分及示例。\n"),s("br")])])},function(){var t=this.$createElement,n=this._self._c||t;return n("h2",{attrs:{id:"运行目录"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#运行目录"}},[this._v("#")]),this._v(" 运行目录")])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Root目录，常量表达式: %rootDir%")]),t._v("\n├── Conf                                  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 配置目录, 常量表达式: %configDir%, %cfgDir%")]),t._v("\n│   │── Apps                                         \n│   │   │── App-1                         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# App配置目录, 常量表达式: %appConfigDir%")]),t._v("\n│   │   │   │── UI                        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# App UI 配置目录, 常量表达式: %appUiDir%")]),t._v("\n│   │   │   │── Console                            \n│   │   │   │──│── Scenarios              "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 常量表达式: %appScenariosDir%, %appSnrsDir%")]),t._v("\n│   │   │   │──│──│── Scenario-1          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 常量表达式: %formConfigDir%, %fmCfgDir%")]),t._v("\n│   │   │   │──│──│── Scenario-2          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 同上")]),t._v("\n│   │   │   │──│──└── Scenario-n          \n│   │   │   │──│ Winform                           \n│   │   │   │──│── functions              "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 常量表达式: %appFuntionsDir%, %appFuncsDir%")]),t._v("\n│   │   │   │──│── │──function-1          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 常量表达式: %formConfigDir%, %fmCfgDir%, ")]),t._v("\n│   │   │   │  │   │                        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" Mvi form   \n│   │   │   │──│── │──function-2          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 同上 ")]),t._v("\n│   │   │   │──│── └──function-n          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 同上")]),t._v("\n│   │   │   │──│── views                  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 常量表达式: %appViewsDir%")]),t._v("\n│   │   │   │──│── │──view-1              "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 常量表达式: %formConfigDir%, %fmCfgDir%,")]),t._v("\n│   │   │   │  │   │                        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" Svi form \n│   │   │   │──│── │──view-2              "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 同上 ")]),t._v("\n│   │   │   │──│── └──view-n              "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 同上")]),t._v("\n│   │   │   │──└── zones                  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 常量表达式: %appZonesDir%")]),t._v("\n│   │   │   │──│── │──zone-1              "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 常量表达式: %formConfigDir%, %fmCfgDir%, ")]),t._v("\n│   │   │   │  │   │                         "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" Szi form\n│   │   │   │──│── │──zone-2              "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 同上")]),t._v("\n│   │   │   │──└── └──zone-n              "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 同上")]),t._v("\n│   │   │   │── AbbrevAnnexes.xlsx        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 缩写文本多语言配置文件")]),t._v("\n│   │   │   │── ApplicationAnnexes.xlsx   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 应用的名称、描述多语言配置文件")]),t._v("\n│   │   │   │── ApplicationSetting.xlsx   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 应用配置文件")]),t._v("\n│   │   │   └── PhraseAnnexes.xlsx        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 词组或句子文本多语言配置文件")]),t._v("\n│   │   │── App-2                         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 同上")]),t._v("\n│   │   └── App-n                         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 同上")]),t._v("\n│   │── Cultures                          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 多语言配置目录")]),t._v("\n│   │  │── Images                         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 多语言图标配置目录")]),t._v("\n│   │  └── Cultures.xlsx                  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 多语言配置文件")]),t._v("\n│   │── Global                            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 全局配置目录，常量表达式: %globalConfigDir%, ")]),t._v("\n│   │                                       %glbCfgDir%\n│   "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("—— OeServiceComponents.xlsx          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# OeServiceComponents配置文件")]),t._v("\n│   │── GlobalSetting.xlsx                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 全局配置文件")]),t._v("\n│   └── GlobalSetting.xlsx.IsEntity       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# .xlsx/.csv后缀的配置文件的格式说明文件，")]),t._v("\n│                                          说明GlobalSetting.xlsx是一个Entity格式的配置文件\n├── Data                                  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 数据目录，常量表达式: %dataDir%")]),t._v("\n│   │── Apps                                      \n│   │   │── App-1                         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# App数据目录，常量表达式: %appDataDir%")]),t._v("\n│   │   │── App-2                         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 同上")]),t._v("\n│   │   └── App-n                         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 同上")]),t._v("\n│   └── Global                            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 全局数据目录，常量表达式: %appGlobalDataDir%")]),t._v("\n├── Ini                                   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 可以把启动程序的ini文件放在此处，让根目录比较整洁")]),t._v("\n├── Lib                                   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Lib目录，常量: %libDir%; 下放第3方的程序包，")]),t._v("\n├   │                                       例如嵌入式Python    \n│   │── Lib-1                                    \n│   │── Lib-2                                       \n│   └── Lib-n                                      \n├── Program                               "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 本框架相关的程序文件")]),t._v("\n│   │── Boot.exe                                       \n│   │── Boot-cpp.exe                                       \n│   │── Cblps                                       \n│   │   │── App-1                         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 下放应用的Cblp编译出来程序文件")]),t._v("\n│   │   │── App-2                         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 下放应用的Cblp编译出来程序文件")]),t._v("\n│   │   └── App-n                         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 下放应用的Cblp编译出来程序文件")]),t._v("\n│── │── Main                              "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 下放启动程序项目编译出来程序文件")]),t._v("\n│   │   │── netcoreapp3.1                           \n│   │   │   │── ConsoleApp.exe            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 控制台执行文件, 启动程序")]),t._v("\n│   │   │   │── debug.ini                 "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 调试时的启动参数文件")]),t._v("\n│   │   │   └── WinformApp.exe            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Winform执行文件, 启动程序")]),t._v("\n│   │   └── netfxapp4.72                           \n│   │   │   │── ConsoleApp.exe            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 控制台执行文件, 启动程序")]),t._v("\n│   │   │   │── debug.ini                 "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 调试时的启动参数文件")]),t._v("\n│   │   │   └── WinformApp.exe            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Winform执行文件, 启动程序")]),t._v("\n│── └── OeStdServiceComponents            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 下放'外嵌标准服务'项目编译出来程序文件")]),t._v("\n│       │── OeStdServiceComponent-1               \n│       │── OeStdServiceComponent-2               \n│       └── OeStdServiceComponent-n       \n│── Boot-1.exe                           "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 引导程序")]),t._v("\n│── Boot-1.ini                           "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 引导程序同名的的ini文件，包含启动参数，")]),t._v("\n│                                          也可放到@rootDir"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ini 目录下\n│── Boot-2.exe                                    \n│── Boot-2.ini                                   \n│── Boot-n.exe                                    \n└── Boot-n.ini                                    \n\n")])])])},function(){var t=this.$createElement,n=this._self._c||t;return n("h2",{attrs:{id:"程序运行"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#程序运行"}},[this._v("#")]),this._v(" 程序运行")])},function(){var t=this.$createElement,n=this._self._c||t;return n("h3",{attrs:{id:"控制台程序运行"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#控制台程序运行"}},[this._v("#")]),this._v(" 控制台程序运行")])},function(){var t=this.$createElement,n=this._self._c||t;return n("p",[this._v("每个Application可以有多个Console的应用, 每个应用就是一个Scenario, 比如IT运维工具箱(OrpTk)有2个Scenario: RunShell、RunPython; OrpTk的控制台应用最少有2个Boot.exe(根据不同的初始化参数)。每个Boot.exe对应一个同名的.ini文件。.ini文件的args分2部分, 前半部分是Application级别的参数, 中间以"),n("a",{attrs:{href:""}},[this._v("参数分隔符")]),this._v("相隔; 后半部分是Scenario级别的参数, 中间以"),n("a",{attrs:{href:""}},[this._v("参数分隔符")]),this._v("相隔; 前后部分之间以空格相隔。")])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("ul",[s("li",[s("p",[t._v("Application级别的参数: appCode^formTitle"),s("br"),t._v(" "),s("strong",[t._v("说明")]),t._v(":"),s("br"),t._v("\n--"),s("strong",[t._v("appCode")]),t._v(": Application的编码, 程序运行以此为关联。"),s("br"),t._v("\n--"),s("strong",[t._v("formTitle")]),t._v(": 控制台窗口的Text, 在UI的配置文件里也会设置formTitle, 如果此处为empty, 以UI的配置文件的为准。"),s("br")])]),t._v(" "),s("li",[s("p",[t._v("Scenario级别的参数: scenarioLocation^initParams"),s("br"),t._v(" "),s("strong",[t._v("说明")]),t._v(":"),s("br"),t._v("\n--"),s("strong",[t._v("scenarioLocation")]),t._v(": 起始ScenarioLocation的位置, 只支持相对路径, 父路径是"),s("a",{attrs:{href:""}},[t._v("常量")]),t._v("@%appScenariosDir%。"),s("br"),t._v("\n--"),s("strong",[t._v("initParams")]),t._v(": 初始化参数, "),s("a",{attrs:{href:""}},[t._v("Larray")]),t._v("格式。"),s("br"),s("br"),t._v(" "),s("strong",[t._v("以下是2个示例")]),t._v("(1个Scenario对应2个Boot.exe): "),s("br")]),t._v(" "),s("ul",[s("li",[t._v("通过RunPython实现一个加法"),s("br"),t._v("\n修改引导程序Boot.exe为OrpTk-Console-PythonAdd.exe, 相应的.ini文件OrpTk-Console-PythonAdd.ini内容如下")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("setting"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Program"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("netFxApp4.72"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ConsoleApp.exe\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("args")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("OrpTk^it-is-run-python-example1 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Basic"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("RunPython^@AppDataLib"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("calc-add.py,1,2\n")])])]),s("ul",[s("li",[t._v("同理, 通过RunPython实现一个减法"),s("br"),t._v("\n修改引导程序Boot.exe为OrpTk-Console-PythonMinus.exe, 相应的.ini文件OrpTk-Console-PythonMinus.ini如下")])])])])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("setting"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Program"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("netFxApp4.72"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ConsoleApp.exe\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("args")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("OrpTk^it-is-run-python-example2 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Basic"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("RunPython^@AppData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("calc-minus.py,2,1\n")])])])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("p",[s("strong",[t._v("示例说明")]),t._v(": "),s("br"),t._v("\n--"),s("strong",[t._v("参数分隔符")]),t._v(": '^' "),s("br"),t._v("\n--"),s("strong",[t._v("appCode")]),t._v(": OrpTk"),s("br"),t._v("\n--"),s("strong",[t._v("formTitle")]),t._v(": it-is-run-python-example1 "),s("br"),t._v("\n--"),s("strong",[t._v("scenarioLocation")]),t._v(": \\Conf\\Apps\\OrpTk\\UI\\Console\\Basic\\Basic\\RunPython"),s("br"),t._v("\n--"),s("strong",[t._v("initParams")]),t._v(": '\\Data\\Apps\\OrpTk\\calc-add.py','1','2'"),s("br")])},function(){var t=this.$createElement,n=this._self._c||t;return n("p",[n("strong",[this._v("运行过程")]),this._v(": 系统运行引导程序, 然后运行启动程序Program\\Main\\netFxApp4.72\\ConsoleApp.exe, 通过scenarioLocation找到Scenario RunPython的UI"),n("a",{attrs:{href:""}},[this._v("配置文件")]),this._v(", 传入参数, 运行并输出。见"),n("a",{attrs:{href:""}},[this._v("教程示例")]),n("br")])},function(){var t=this.$createElement,n=this._self._c||t;return n("h3",{attrs:{id:"winform程序运行"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#winform程序运行"}},[this._v("#")]),this._v(" Winform程序运行")])},function(){var t=this.$createElement,n=this._self._c||t;return n("p",[this._v("每个Application可以有多个Winform的启动Form, 比如OrpTk有4个"),n("a",{attrs:{href:""}},[this._v("不同类型的Form")]),this._v("分别是: 管理员主界面(Function Form)、用户主界面(Function Form)、巡检工具Svi界面(Single View Interface, Svi Form)、备份作业工具Szi界面(Single Zone Interface, SziForm), OrpTk的Winform应用最少有4个Boot.exe(根据不同的初始化参数)。每个Boot.exe对应一个同名的.ini文件。.ini文件的args分2部分, 前半部分是Application级别的参数, 中间以"),n("a",{attrs:{href:""}},[this._v("参数分隔符")]),this._v("相隔; 后半部分是Form级别的参数, 中间以"),n("a",{attrs:{href:""}},[this._v("参数分隔符")]),this._v("相隔; 前后部分之间以空格相隔。")])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("ul",[s("li",[s("p",[t._v("Application级别的参数: appCode^formTitle, 与控制台类似"),s("br")])]),t._v(" "),s("li",[s("p",[t._v("Form级别的参数: 根据Form类型有所不同"),s("br"),t._v(" "),s("strong",[t._v("说明")]),t._v(":"),s("br"),t._v("\n--"),s("strong",[t._v("Szi/ Svi的Form级别的参数")]),t._v(": formType^FormLocation^initParams"),s("br"),t._v("\n----formType: Szi 或Svi, 如果为Empty则为Szi"),s("br"),t._v("\n----FormLocation起始Form的位置, 只支持相对路径, Szi的父路径是"),s("a",{attrs:{href:""}},[t._v("常量")]),t._v(": %appZonesDir%, Svi的父路径是"),s("a",{attrs:{href:""}},[t._v("常量")]),t._v(": %appViewsDir%,。"),s("br"),t._v("\n--"),s("strong",[t._v("Mvi的Form级别的参数")]),t._v(": formType^FunctionCode|StartView^initParams"),s("br"),t._v("\n----formType: Mvi"),s("br"),t._v("\n----FunctionCode: 每个FuctionForm有一个Code, 详见"),s("a",{attrs:{href:""}},[t._v("教程-Winform")]),s("br"),t._v("\n----StartView: 起始View, 每个FuctionForm的UI配置里有设置StartView, 如果传入参数StartView的不为空, 则使用传入参数的StartView。"),s("br"),t._v("\n--"),s("strong",[t._v("initParams")]),t._v(": 初始化参数, "),s("a",{attrs:{href:""}},[t._v("Larray")]),t._v("格式。"),s("br"),s("br"),t._v(" "),s("strong",[t._v("以下是4个示例")]),t._v(": "),s("br")]),t._v(" "),s("ul",[s("li",[t._v("OrpTk管理员主界面"),s("br"),t._v("\n修改引导程序Boot.exe为OrpTk-Winform-Func-Admin.exe, 相应的.ini文件OrpTk-Winform-Func-Admin.ini内容如下")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("setting"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Program"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("netFxApp4.72"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("WinformApp.exe\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("args")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("OrpTk Mvi^Admin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("OrpMgr\n")])])]),s("p",[t._v("说明: 没有formTitle, Form类型是Mvi, Admin是管理员主界面的Function Code, OrpMgr表示首先进入运维管理View(缺省是SysMgr-系统管理View), 没有初始化参数。")]),t._v(" "),s("ul",[s("li",[t._v("OrpTk巡检工具Svi界面"),s("br"),t._v("\n修改引导程序Boot.exe为OrpTk-Winform-Svi-Insp.exe, 相应的.ini文件OrpTk-Winform-Svi-Insp.ini内容如下")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("setting"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Program"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("netFxApp4.72"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("WinformApp.exe\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("args")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("OrpTk Svi^"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Admin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Insp^server\n")])])]),s("p",[t._v("说明: 没有formTitle, Form类型是Svi, \\Admin\\Insp是Form的相对路径, server是初始化参数, 表示Server的巡检, 配置的UI会根据传入参数把Server的巡检界面显示在最前面。")]),t._v(" "),s("ul",[s("li",[t._v("OrpTk备份作业工具Szi界面-备份Db"),s("br"),t._v("\n修改引导程序Boot.exe为OrpTk-Winform-Szi-BakWorkerForDb.exe, 相应的.ini文件OrpTk-Winform-Szi-BakWorkerForDb.ini内容如下")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("setting"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Program"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("netFxApp4.72"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("WinformApp.exe\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("args")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("OrpTk^db-backup Szi^"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Common"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("BakWorker^db,2days,1:00\n")])])]),s("p",[t._v("说明: 该工具通过配置已集成备份服务器上所有Db和备份磁盘柜相关文件功能; formTitle: db-backup, Form的Text显示db-backup,与文件备份有个区分; Form类型是Szi, \\Common\\BakWorker是Form的相对路径; db,2days,1:00是初始化参数, 表示备份Db,每隔2天, 每天1:00开始作业。")]),t._v(" "),s("ul",[s("li",[t._v("OrpTk备份作业工具Szi界面-备份文件"),s("br"),t._v("\n修改引导程序Boot.exe为OrpTk-Winform-Szi-BakWorkerForFile.exe, 相应的.ini文件OrpTk-Winform-Szi-BakWorkerForFile.ini内容如下")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("setting"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Program"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("netFxApp4.72"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("WinformApp.exe\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("args")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("OrpTk^file-backup Szi^"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Common"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("BakWorker^files,3days,2:00\n")])])]),s("p",[t._v("说明: 该工具通过配置已集成备份服务器上所有Db和备份磁盘柜相关文件功能; formTitle: file-backup, Form的Text显示file-backup,与db备份有个区分; Form类型是Szi, \\Common\\BakWorker是Form的相对路径; file,3days,2:00是初始化参数, 表示备份file,每隔3天, 每天2:00开始作业。")])])])},function(){var t=this.$createElement,n=this._self._c||t;return n("p",[n("strong",[this._v("运行过程")]),this._v(": 系统运行引导程序, 然后运行启动程序Program\\Main\\netFxApp4.72\\WinformApp.exe, 通过参数找到Form的UI"),n("a",{attrs:{href:""}},[this._v("配置文件")]),this._v(", 传入参数, 显示Form。见"),n("a",{attrs:{href:""}},[this._v("教程示例")]),n("br")])},function(){var t=this.$createElement,n=this._self._c||t;return n("h3",{attrs:{id:"注意事项"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#注意事项"}},[this._v("#")]),this._v(" 注意事项")])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"language-csharp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-csharp"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")])]),t._v(" executableDir "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" \n Path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetDirectoryName")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("System"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Windows"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Forms"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Application"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ExecutablePath"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n _startUpDir "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Directory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetParent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("executableDir"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ToString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n _startUpDir "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Directory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetParent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("_startUpDir"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ToString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n _startUpDir "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Directory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetParent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("_startUpDir"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ToString")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n Directory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("SetCurrentDirectory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("_startUpDir"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,n=this._self._c||t;return n("h2",{attrs:{id:"编译和调试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#编译和调试"}},[this._v("#")]),this._v(" 编译和调试")])},function(){var t=this.$createElement,n=this._self._c||t;return n("li",[this._v("Cblp、OeStdServiceComponent项目都需要引用Ligg.Interface项目。启动项目和Ligg.Cblp项目之间， 启动项目和OeStdServiceComponent项目之间没有依赖关系，通过Ioc来调用; Vs2019是可以进去Debug的。详见"),n("a",{attrs:{href:""}},[this._v("博客园:Ioc和反射的实现依赖注入的差异")])])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("setting"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("debug")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("true\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("path")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Program"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("netFxApp4.72"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("WinformApp.exe\n//args"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Demo Mvi^Function20, NoAuth\n//args"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Demo Svi^demo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("SendLocalEmail2\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("args")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("Demo Szi^Demo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ChooseFile\n")])])])},function(){var t=this.$createElement,n=this._self._c||t;return n("h2",{attrs:{id:"集成开发"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#集成开发"}},[this._v("#")]),this._v(" 集成开发")])},function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"warning custom-block"},[n("p",{staticClass:"custom-block-title"},[this._v("注意")]),this._v(" "),n("ul",[n("li",[this._v("从3.0版本开始Cblp已不支持COM组件")])]),this._v(" "),n("hr")])},function(){var t=this.$createElement,n=this._self._c||t;return n("ul",[n("li",[this._v("Winform控件的扩展")]),this._v(" "),n("li",[this._v("Cblp、OeStdServiceComponent的开发")]),this._v(" "),n("li",[this._v("当然你也可以魔改本框架, 本框架采用MIT开源协议, 请遵循该协议即可。")]),this._v(" "),n("li",[this._v('当采用开源版本做集成开发, 请保留"Powered by Liggin2019"标识, 这是本框架唯一的额外版权要求。')])])}],!1,null,null,null);n.default=e.exports}}]);